<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <title>FLYMILY – טיולים חכמים</title>
  <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://www.googleapis.com" crossorigin>
  <style>
    :root { color-scheme: dark; }
    body { 
      margin:0; 
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Noto Sans, "Apple Color Emoji", "Segoe UI Emoji"; 
      background:#0b1420; 
      color:#e6edf3;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    .wrap { max-width: 840px; margin: 40px auto; padding: 16px; }
    h1 { font-size: 32px; letter-spacing: 1px; margin: 0 0 12px 0; }
    .card { background: #121a27; padding: 16px; border-radius: 16px; box-shadow: 0 6px 24px rgba(0,0,0,.25); }
    button { 
      background:#1f6feb; 
      color:#fff; 
      border:0; 
      border-radius:12px; 
      padding:14px 18px; 
      font-size:16px; 
      cursor:pointer;
      -webkit-appearance: none;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    button:disabled { opacity:.6; cursor:not-allowed; }
    button:active { transform: scale(0.98); }
    .row { display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    .muted { color:#97a5b3; font-size:14px; }
    #log { 
      white-space: pre-wrap; 
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; 
      background:#0e1622; 
      padding:12px; 
      border-radius:12px; 
      min-height:120px;
      max-height: 300px;
      overflow-y: auto;
      word-break: break-all;
    }
    .chip { background:#0e223a; padding:4px 8px; border-radius:100px; font-size:12px; }
    img.pfp { width:40px; height:40px; border-radius:50%; }
    
    /* Mobile specific styles */
    @media (max-width: 600px) {
      .wrap { margin: 20px auto; padding: 12px; }
      h1 { font-size: 24px; }
      button { padding: 16px 20px; font-size: 18px; width: 100%; }
      .row { flex-direction: column; gap: 8px; }
      .card { padding: 12px; }
    }
    
    /* Loading state */
    .loading {
      opacity: 0.7;
      pointer-events: none;
    }
    .loading button::after {
      content: "...";
      animation: dots 1s infinite;
    }
    
    @keyframes dots {
      0%, 20% { content: ""; }
      40% { content: "."; }
      60% { content: ".."; }
      80%, 100% { content: "..."; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>FLYMILY – טיולים חכמים</h1>
    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <div>
          <div id="ua" class="muted"></div>
          <div class="row" style="margin-top:8px;">
            <span id="flow" class="chip">flow: adaptive</span>
            <span id="phase" class="chip">phase: boot</span>
          </div>
        </div>
        <div class="row">
          <img id="pfp" class="pfp" alt="" style="display:none"/>
          <div id="who" class="muted"></div>
        </div>
      </div>

      <div style="margin:16px 0">
        <button id="loginBtn">התחבר עם Google</button>
        <button id="logoutBtn" style="display:none;background:#9a2d2d">התנתק</button>
      </div>

      <div id="log"></div>
    </div>
  </div>

  <script type="module" src="./script.js"></script>
</body>
</html>