
/* ===== Base Theme Vars (fallbacks if not defined elsewhere) ===== */
:root{
  --primary: #6b4eff;
  --text: #091a28;
  --muted: #55637a;
  --card: #ffffff;
  --panel: #ffffff;
  --border: #e6e8ee;
  --bg: #f5f7fb;
  --radius: 16px;
  --radius-sm: 12px;
}

/* Basic reset for this demo/file */
* { box-sizing: border-box; }
html, body { margin:0; padding:0; background: var(--bg); color: var(--text); font-family: "Rubik", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji"; }
button, input, textarea { font: inherit; }

/* ===== Generic UI elements ===== */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding: 10px 16px; border-radius: 999px;
  border: 1.6px solid var(--border);
  background: transparent; color: var(--text);
  cursor: pointer; transition: border-color .15s ease, box-shadow .15s ease;
  white-space: nowrap; text-decoration:none;
}
.btn.primary{ background: var(--primary); color: #fff; border-color: transparent; }
.btn.ghost{ background: transparent; border-color: var(--border); color: var(--text); }
.btn.danger{ border-color: #f0b6b6; color:#7a2121; }
.btn:disabled{ opacity:.6; cursor:not-allowed; }
.btn:hover{ border-color: var(--primary); }

.input{
  width:100%; padding: 12px 14px; border-radius: 16px;
  border: 1px solid var(--border); background: #fff; color: var(--text);
  min-height: 44px;
}
.input-with-button{ display:flex; gap:8px; width:100%; }
.input-with-icon{ display:flex; align-items:center; gap:8px; }

/* ===== Dialog shell ===== */
.dialog{
  width: min(1100px, 98vw);
  max-width: 98vw;
  border: none; border-radius: 24px;
  background: var(--card);
  box-shadow: 0 30px 80px rgba(0,0,0,.18);
  padding: 16px 20px;
}
.dialog.wide{
  height: 92vh;
  max-height: 92vh;
  overflow: clip;
}
.dialog .form{
  display:grid;
  grid-template-rows: auto 1fr auto;
  gap: 12px;
  min-block-size: 0;
  overflow: clip;
}
.dialog h3{ margin: 8px 0 4px; font-size: clamp(20px, 2.3vw, 28px); }
menu.form-actions{
  display:flex; gap:12px; justify-content:flex-start; padding-top: 8px; margin:0;
  border-top: 1px solid var(--border); background: var(--card);
}

/* ===== Journal dialog specific ===== */
#journalDialog .journal-dialog-grid{
  display:grid; gap: clamp(12px, 2vw, 16px);
  grid-template-columns: 1fr;
  min-block-size: 0; min-inline-size: 0;
}
@media (min-width: 1000px){
  #journalDialog .journal-dialog-grid{ grid-template-columns: 1.05fr 1fr; }
}

#journalDialog .map-side{
  display:grid; grid-template-rows: auto 1fr; gap: 12px; min-block-size: 0;
}
#journalDialog .form-side{
  display:grid; grid-template-rows: 1fr auto; gap: 12px; min-block-size: 0;
}

/* Toolbar for picking a location â€“ two rows, clean outline buttons */
#journalDialog .dialog-actions-row{
  background: transparent;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 8px;
}
/* Two-row layout for the journal toolbar specifically (has class 'tight') */
#journalDialog .dialog-actions-row.tight{
  display:grid;
  grid-template-columns: 1fr auto;     /* search grows on row 2 */
  grid-template-rows: auto auto;
  grid-template-areas:
    "pick current"
    "search clear";
  gap: 8px; align-items:center;
}
#journalDialog .dialog-actions-row.tight > :nth-child(1){ grid-area: pick; }
#journalDialog .dialog-actions-row.tight > :nth-child(2){ grid-area: current; }
#journalDialog .dialog-actions-row.tight > :nth-child(3){ grid-area: search; }
#journalDialog .dialog-actions-row.tight > :nth-child(4){ grid-area: clear; }

/* In the toolbar: outline style only */
#journalDialog .dialog-actions-row .btn,
#journalDialog .dialog-actions-row .btn.primary{
  background: transparent !important;
  color: var(--text) !important;
  border: 1.6px solid var(--border) !important;
  box-shadow: none !important;
}
#journalDialog .dialog-actions-row .btn:hover{ border-color: var(--primary) !important; }

/* Map fills remaining space */
#journalDialog .map.tall{ height: 100% !important; min-height: 220px; border-radius: 16px; background:#cde5ec; }

#journalDialog #journalTextarea{
  min-height: 0; height: auto; block-size: 100%; resize: vertical;
}

/* Footer buttons */
#journalDialog menu.form-actions .btn{ background: transparent; border: 1.6px solid var(--border); }
#journalDialog menu.form-actions .btn.primary{ background: var(--primary); color: #fff; border-color: transparent; }

/* Mobile map height */
@media (max-width: 999.98px){
  #journalDialog .map-side .map{ height: 45vh; }
}

/* ====== Extras: button for opening the dialog ====== */
#addJournalBtn{
  border: 1.6px solid var(--border);
  background: transparent;
}
